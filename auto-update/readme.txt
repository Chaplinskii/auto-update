
–ê–≤—Ç–æ—Ä: hacoc
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://gitverse.ru/HACOC/auto-update.git
–í–µ—Ä—Å–∏—è: 1.3
–î–∞—Ç–∞: 2025-11-25

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

    üìå –ù–∞–∑–≤–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ update.sh

    üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ (apt update && apt upgrade)
    –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
    –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –æ–± –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö
    –†–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ –ø–æ –º–µ—Å—è—Ü–∞–º (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞)
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    –ó–∞–ø—É—Å–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —á–µ—Ä–µ–∑ cron

    üß∞ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

–ü–∞—Ä–∞–º–µ—Ç—Ä            –ó–Ω–∞—á–µ–Ω–∏–µ
–Ø–∑—ã–∫                Bash
–¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞       update.sh
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å        root
–õ–æ–≥–∏                –í —Ñ–æ—Ä–º–∞—Ç–µ update-<–º–µ—Å—è—Ü>-<–≥–æ–¥>.log (–Ω–∞–ø—Ä–∏–º–µ—Ä, update-november-2025.log)
–•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤      –ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞ (—Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã     –•—Ä–∞–Ω—è—Ç—Å—è –≤ tmp/ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞

    üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

‚îú‚îÄ‚îÄ update.sh              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ logs/                  # –õ–æ–≥–∏ –∑–∞ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
‚îÇ   ‚îú‚îÄ‚îÄ update-november-2025.log
‚îÇ   ‚îú‚îÄ‚îÄ update-december-2025.log
‚îÇ   ‚îî‚îÄ‚îÄ update-january-2026.log
‚îî‚îÄ‚îÄ tmp/                   # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è)
    ‚îú‚îÄ‚îÄ apt-update.log
    ‚îú‚îÄ‚îÄ apt-upgrade.log
    ‚îî‚îÄ‚îÄ updated-packages.log

    ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å en_US.UTF-8 –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤.
–°–æ–∑–¥–∞—ë—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ logs/ –∏ tmp/ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

2. –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü: –Ω–∞–ø—Ä–∏–º–µ—Ä, november-2025.
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã update-*.log.
–£–¥–∞–ª—è–µ—Ç –ª–æ–≥–∏, —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π (‚âà3 –º–µ—Å—è—Ü–∞).

3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í–µ—Å—å –≤—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤:
/logs/update-<–º–µ—Å—è—Ü>-<–≥–æ–¥>.log

4. –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
apt update -y
–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ tmp/apt-update.log.
–ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç –ª–æ–≥–∞ –∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.

5. –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
apt list --upgradable
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

6. –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
apt upgrade -y
–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ tmp/apt-upgrade.log.

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
–ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–º–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ —Å—Ç—Ä–æ–∫ Setting up <package>.
–í—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: ¬´–£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ X –ø–∞–∫–µ—Ç–æ–≤¬ª + —Å–ø–∏—Å–æ–∫.

7. –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É:
 shutdown -r +1 "–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"

    üóÇÔ∏è –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ –ª–æ–≥–∞

–ü—Ä–∏–º–µ—Ä—ã:
update-november-2025.log
update-december-2025.log
update-january-2026.log
–ò–º–µ–Ω–∞ –º–µ—Å—è—Ü–µ–≤ ‚Äî –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ.

    ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

–û–°: Linux (Debian/Ubuntu)
–ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä: apt
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: root –∏–ª–∏ sudo —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –∑–∞–ø—É—Å–∫ apt –∏ shutdown
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã: bash, date, grep, awk, sed, mkdir, rm

    üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–°–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤ root (–¥–ª—è apt, shutdown).
–í—Å–µ –ø—É—Ç–∏ –∑–∞–¥–∞–Ω—ã —è–≤–Ω–æ ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç PATH-–∞—Ç–∞–∫.
–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

‚úÖ –°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –≤ production.